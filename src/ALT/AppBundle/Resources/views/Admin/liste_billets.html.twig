{% extends '::layout-admin.html.twig' %}

{% block body %}

    <div class="liste"><h2>Liste des billets</h2>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Titre</th>
                <th>Date</th>
                <th>Publié</th>
                <th>Nbr de commentaire(s)</th>
                <th style="width:150px;">&nbsp;</th>
            </tr>
        </thead>

        <tbody>
            {% for billet in billets %}
            <tr>

                <td>
                    <h4>
                        <a href="{{ path('alt_app_admin_lecture', {'id': billet.id}) }}">
                        {{ billet.titre }}
                        </a>
                    </h4>
                </td>
                <td>{{ billet.date | date('d-m-Y H:i:s') }}</td>
                <td>
                    {% if billet.publier == 1 %}
                        <span class="glyphicon glyphicon-ok"></span>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"></span>
                    {% endif %}
                </td>
                <td>
                    <a href="{{ path('alt_app_admin_liste_commentaires_par_id', {'id': billet.id}) }}"> {{ billet.commentaires | length }}
                    </a>
                </td>
                <td class="action">
                    {% if billet.publier == 1 %}
                        <a href="{{ path('alt_app_admin_depublier_billet', {'id': billet.id}) }}" class="btn btn-default">
                            <i class="glyphicon glyphicon-remove"></i>
                            Dépublier
                        </a>
                    {% else %}
                        <a href="{{ path('alt_app_admin_publier_billet', {'id': billet.id}) }}" class="btn btn-default">
                            <i class="glyphicon glyphicon-ok"></i>
                            Publier
                        </a>
                    {% endif %}


                    <a href="{{ path('alt_app_admin_modifier', {'id': billet.id}) }}" class="btn btn-default">
                        <i class="glyphicon glyphicon-edit"></i>
                        Modifier
                    </a>

                    <a href="{{ path('alt_app_admin_supprimer', {'id': billet.id}) }}" class="btn btn-danger">
                        <i class="glyphicon glyphicon-trash"></i>
                        Supprimer
                    </a>
                </td>

            </tr>
            {% endfor %}
        </tbody>
    </table>

    <hr>
        <p>
            <a href="{{ path('alt_app_admin_accueil') }}" class="btn btn-default">
                <i class="glyphicon glyphicon-chevron-left"></i>
                Retour à la page d'accueil
            </a>
        </p>
    </div>
{% endblock %}